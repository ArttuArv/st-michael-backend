"use strict";(self.webpackChunkst_michael_v1=self.webpackChunkst_michael_v1||[]).push([[647],{3647:function(n,e,t){t.r(e),t.d(e,{default:function(){return Gn}});var i,r=t(2069),o=t(4119),a=t(9358),c=t(525),s=t(5307),d=t(6602),u=d.ZP.button(i||(i=(0,s.Z)(["\n  padding: 10px;\n  margin: 5px;\n  width: 100%;\n  max-width: 300px;\n  border-radius: 5px;\n  font-size: 1rem;\n  background: ",";\n  color: gold;\n  font-weight: bold;\n  cursor: pointer;\n\n  &:hover {\n    transition: all 0.2s ease-in-out;\n    transform: scale(1.01);\n    box-shadow: 0 1px 3px rgba(255, 203, 5, 0.9);\n  }\n\n  @media screen and (max-width: 500px) {\n    font-size: 1.5rem;\n    height: 60px;\n  }\n"])),(function(n){return"add"===n.background?"#06260F":"#84172C"})),l=t(9710),x=(0,c.forwardRef)((function(n,e){var t=(0,c.useState)(!1),i=(0,a.Z)(t,2),r=i[0],o=i[1],s={display:r?"none":""},d={display:r?"":"none"},x=function(){o(!r)};return(0,c.useImperativeHandle)(e,(function(){return{toggleVisibility:x}})),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{style:s,children:(0,l.jsx)(u,{background:"add",onClick:x,children:n.buttonLabel})}),(0,l.jsxs)("div",{style:d,children:[n.children,(0,l.jsx)(u,{background:"light",onClick:x,children:"Hylk\xe4\xe4"})]})]})}));x.displayName="Togglable";var p,h,f,g,m,v,j,b,Z,w,k,y,P,C,F,z,S,L,A,E,B,H,V,U,N,D,O,T,I=x,R=d.ZP.div(p||(p=(0,s.Z)(["\n  color: #fff;\n  background: ",";\n  font-size: 20px;\n  border-style: solid;\n  border-radius: 5px;\n  padding: 10px;\n  margin-bottom: 10px;\n  text-align: center;\n"])),(function(n){return"alert"===n.type?"red":"green"})),W=function(n){var e=n.notification;return null===e?null:(0,l.jsx)(R,{type:e.type,id:"notification",children:e.message})},_=d.ZP.div(h||(h=(0,s.Z)(["\n  background: gold;\n  border-radius: 10px;\n  padding: 40px;\n  width: 100%;\n  max-width: 500px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.9);\n  text-align: center;\n\n  @media screen and (max-width: 500px) {\n    padding: 5px 5px;\n"]))),K=d.ZP.h2(f||(f=(0,s.Z)(["\n  font-size: 2rem;\n  margin-bottom: 10px;\n"]))),M=d.ZP.p(g||(g=(0,s.Z)(["\n  font-size: 1.2rem;\n  text-align: center;\n"]))),J=d.ZP.div(m||(m=(0,s.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 20px;\n"]))),q=d.ZP.form(v||(v=(0,s.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),G=d.ZP.div(j||(j=(0,s.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 20px;\n  font-weight: bold;\n"]))),Q=d.ZP.input(b||(b=(0,s.Z)(["\n  padding: 10px;\n  margin: 5px;\n  width: 100%;\n  max-width: 300px;\n  border-radius: 5px;\n  border: 1px solid #ccc;\n  font-size: 1rem;\n  font-size: 2rem;\n"]))),X=d.ZP.button(Z||(Z=(0,s.Z)(["\n  padding: 10px;\n  margin: 5px;\n  width: 100%;\n  max-width: 300px;\n  border-radius: 5px;\n  font-size: 1rem;\n  background: #06260F;\n  color: gold;\n  cursor: pointer;\n  font-size: 2rem;\n"]))),Y=function(n){var e=n.onLogin,t=(0,c.useState)(""),i=(0,a.Z)(t,2),r=i[0],o=i[1],s=(0,c.useState)(""),d=(0,a.Z)(s,2),u=d[0],x=d[1];return(0,l.jsxs)(_,{children:[(0,l.jsx)(K,{children:"Kirjaudu Sis\xe4\xe4n"}),(0,l.jsx)(J,{children:(0,l.jsxs)(q,{onSubmit:function(n){n.preventDefault(),e(r,u)},children:[(0,l.jsxs)(G,{children:[(0,l.jsx)(M,{children:"K\xe4ytt\xe4j\xe4tunnus"}),(0,l.jsx)(Q,{type:"text",value:r,onChange:function(n){var e=n.target;return o(e.value)},id:"username"})]}),(0,l.jsxs)(G,{children:[(0,l.jsx)(M,{children:"Salasana"}),(0,l.jsx)(Q,{type:"password",value:u,onChange:function(n){var e=n.target;return x(e.value)},id:"password"})]}),(0,l.jsx)(G,{children:(0,l.jsx)(X,{id:"login-button",type:"submit",children:"Login"})})]})})]})},$=d.ZP.button(w||(w=(0,s.Z)(["\n  padding: 10px;\n  margin: 5px;\n  width: 100%;\n  max-width: 300px;\n  border-radius: 5px;\n  font-size: 1rem;\n  background: ",";\n  color: gold;\n  font-weight: bold;\n  cursor: pointer;\n\n  &:hover {\n    transition: all 0.2s ease-in-out;\n    transform: scale(1.01);\n    box-shadow: 0 1px 3px rgba(255, 203, 5, 0.9);\n  }\n\n  @media screen and (max-width: 500px) {\n    font-size: 1.5rem;\n    height: 60px;\n  }\n"])),(function(n){return"add"===n.background?"#06260F":"#84172C"})),nn=d.ZP.h2(k||(k=(0,s.Z)(["\n  font-size: 3rem;\n  color: #06260F;\n  text-align: center;\n  color: gold;\n  font-weight: bold;\n  text-shadow: 1px 1px 0px rgba(0, 0, 0, 1);\n"]))),en=d.ZP.p(y||(y=(0,s.Z)(["\n"]))),tn=d.ZP.form(P||(P=(0,s.Z)(["\n"]))),rn=d.ZP.div(C||(C=(0,s.Z)(["\n  width: 100%;\n  padding: 5px;\n  font-size: 1.5rem;\n\n  @media screen and (max-width: 500px) {\n    font-size: 1.8rem;\n  }\n"]))),on=d.ZP.input(F||(F=(0,s.Z)(["\n  width: 100%;\n  max-width: 300px;\n  padding: 10px;\n  margin: 5px;\n  border-radius: 5px;\n  font-size: 1rem;\n  background: #FFFFE0;\n  color: #32231F;\n  font-weight: bold;\n  border: 1px solid gold;\n  text-align: center;\n  \n  &:focus {\n    outline: none;\n  }\n\n  @media screen and (max-width: 500px) {\n    font-size: 1.5rem;\n    height: 60px;\n  }\n"]))),an=d.ZP.label(z||(z=(0,s.Z)([" \n// width: 100%;\n  // max-width: 300px;\n  // padding: 10px;\n  // margin: 5px;\n  // border-radius: 5px;\n  // font-size: 1rem;\n  // background: #FFFFE0;\n  // color: #32231F;\n  // font-weight: bold;\n  // border: 1px solid gold;\n  // text-align: center;\n\n  // @media screen and (max-width: 500px) {\n  //   font-size: 1.5rem;\n  //   height: 60px;\n  // }\n"]))),cn=d.ZP.select(S||(S=(0,s.Z)(["\n  width: 100%;\n  max-width: 300px;\n  padding: 10px;\n  margin: 5px;\n  border-radius: 5px;\n  font-size: 1rem;\n  background: #FFFFE0;\n  color: #32231F;\n  font-weight: bold;\n  border: 1px solid gold;\n  text-align: center;\n\n  &:focus {\n    outline: none;\n  }\n\n  @media screen and (max-width: 500px) {\n    font-size: 1.5rem;\n    height: 60px;\n  }\n"]))),sn=d.ZP.option(L||(L=(0,s.Z)(["\n  // width: 100%;\n  // max-width: 300px;\n  // margin: 5px;\n  // border-radius: 5px;\n  // font-size: 1rem;\n  // background: #FFFFE0;\n  // color: #32231F;\n  // font-weight: bold;\n  // border: 1px solid gold;\n  // text-align: center;\n  line-height: 50px;\n"]))),dn=function(n){var e=n.createNewHours,t=(0,c.useState)(""),i=(0,a.Z)(t,2),r=i[0],o=i[1],s=(0,c.useState)(""),d=(0,a.Z)(s,2),u=d[0],x=d[1];return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,l.jsx)(nn,{children:"Lis\xe4\xe4 uusi"}),(0,l.jsx)(nn,{children:"aukioloaika"})]}),(0,l.jsx)("div",{children:(0,l.jsxs)(tn,{onSubmit:function(n){n.preventDefault(),e({day:r,openinghours:u}),o(""),x("")},children:[(0,l.jsxs)(rn,{children:[(0,l.jsx)(en,{children:"P\xe4iv\xe4"}),(0,l.jsx)(on,{value:r,onChange:function(n){o(n.target.value)},id:"day",placeholder:"Aseta p\xe4iv\xe4"})]}),(0,l.jsxs)(rn,{children:[(0,l.jsx)(en,{children:"Aukioloaika"}),(0,l.jsx)(on,{value:u,onChange:function(n){x(n.target.value)},id:"openingHours",placeholder:"Aseta aukioloaika"})]}),(0,l.jsx)($,{background:"add",id:"login-button",type:"submit",children:"Lis\xe4\xe4"})]})})]})},un=function(n){n.updateOpeningHours;var e=(0,c.useState)(""),t=(0,a.Z)(e,2),i=t[0],r=t[1],o=(0,c.useState)(""),s=(0,a.Z)(o,2),d=s[0],u=s[1];return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,l.jsx)(nn,{children:"P\xe4ivit\xe4"}),(0,l.jsx)(nn,{children:"aukioloaika"})]}),(0,l.jsx)("div",{children:(0,l.jsxs)(tn,{onSubmit:function(n){n.preventDefault();r(""),u("")},children:[(0,l.jsxs)(rn,{children:[(0,l.jsx)(en,{children:"P\xe4iv\xe4"}),(0,l.jsx)(on,{value:i,onChange:function(n){r(n.target.value)},id:"day",placeholder:"Aseta p\xe4iv\xe4"})]}),(0,l.jsxs)(rn,{children:[(0,l.jsx)(en,{children:"Aukioloaika"}),(0,l.jsx)(on,{value:d,onChange:function(n){u(n.target.value)},id:"openingHours",placeholder:"Aseta aukioloaika"})]}),(0,l.jsx)($,{background:"add",id:"login-button",type:"submit",children:"Lis\xe4\xe4"})]})})]})},ln=function(n){var e=n.createNewBeer,t=(0,c.useState)(""),i=(0,a.Z)(t,2),r=i[0],o=i[1],s=(0,c.useState)(""),d=(0,a.Z)(s,2),u=d[0],x=d[1],p=(0,c.useState)(""),h=(0,a.Z)(p,2),f=h[0],g=h[1],m=(0,c.useState)(""),v=(0,a.Z)(m,2),j=v[0],b=v[1],Z=(0,c.useState)(""),w=(0,a.Z)(Z,2),k=w[0],y=w[1],P=function(){o(""),x(""),g(""),b(""),y("")};return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,l.jsx)(nn,{children:"Lis\xe4\xe4 uusi"}),(0,l.jsx)(nn,{children:"olut"})]}),(0,l.jsx)("div",{children:(0,l.jsxs)(tn,{onSubmit:function(n){n.preventDefault(),"Valitse listasta"!==k&&k?(e({name:r,style:u,country:f,price:j,category:k}),P()):alert("Valitse kategoria")},children:[(0,l.jsxs)(rn,{children:[(0,l.jsx)(en,{children:"Nimi"}),(0,l.jsx)(on,{value:r,onChange:function(n){o(n.target.value)},id:"name",placeholder:"Oluen nimi"})]}),(0,l.jsxs)(rn,{children:[(0,l.jsx)(en,{children:"Tyyppi"}),(0,l.jsx)(on,{value:u,onChange:function(n){x(n.target.value)},id:"style",placeholder:"Oluen tyyppi esim. IPA"})]}),(0,l.jsxs)(rn,{children:[(0,l.jsx)(en,{children:"Maa"}),(0,l.jsx)(on,{value:f,onChange:function(n){g(n.target.value)},id:"country",placeholder:"Oluen kotimaa"})]}),(0,l.jsxs)(rn,{children:[(0,l.jsx)(an,{children:"Kategoria"}),(0,l.jsx)(cn,{value:k,onChange:function(n){y(n.target.value)},children:["Valitse listasta","On Bottle","On Draught","Local Draughts","Regular Draughts"].map((function(n){return(0,l.jsx)(sn,{value:n,children:n},n)}))})]}),(0,l.jsx)($,{background:"add",id:"login-button",type:"submit",children:"Lis\xe4\xe4"})]})})]})},xn=function(n){var e=n.createNewWhisky,t=(0,c.useState)(""),i=(0,a.Z)(t,2),r=i[0],o=i[1],s=(0,c.useState)(""),d=(0,a.Z)(s,2),u=d[0],x=d[1],p=(0,c.useState)(""),h=(0,a.Z)(p,2),f=h[0],g=h[1],m=function(){o(""),x(""),g("")};return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,l.jsx)(nn,{children:"Lis\xe4\xe4 uusi"}),(0,l.jsx)(nn,{children:"viski"})]}),(0,l.jsx)("div",{children:(0,l.jsxs)(tn,{onSubmit:function(n){n.preventDefault(),"Valitse listasta"!==u&&u?(e({name:r,area:u,price:f},u),m()):alert("Valitse alue")},children:[(0,l.jsxs)(rn,{children:[(0,l.jsx)(en,{children:"Nimi"}),(0,l.jsx)(on,{value:r,onChange:function(n){o(n.target.value)},id:"name",placeholder:"Viskin nimi"})]}),(0,l.jsxs)(rn,{children:[(0,l.jsx)(an,{children:"Alue"}),(0,l.jsx)(cn,{value:u,onChange:function(n){x(n.target.value)},children:["Valitse listasta","Highland","Lowland","Campbeltown","Irish","Japan","Islands","Other Countries / Bourbons","Uutuudet"].map((function(n){return(0,l.jsx)(sn,{value:n,children:n},n)}))})]}),(0,l.jsxs)(rn,{children:[(0,l.jsx)(en,{children:"Hinta"}),(0,l.jsx)(on,{value:f,onChange:function(n){g(n.target.value)},id:"price",placeholder:"Hinta"})]}),(0,l.jsx)("div",{children:(0,l.jsx)($,{background:"add",id:"submit-button",type:"submit",children:"Lis\xe4\xe4"})})]})})]})},pn=t(702),hn=t(7605),fn="".concat((0,hn.getBaseUrl)(),"/login"),gn=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,pn.Z.post(fn,e);case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),mn={login:gn},vn=t(39),jn=t(167),bn="".concat((0,hn.getBaseUrl)(),"/beer"),Zn=function(){return{headers:{Authorization:"bearer ".concat(vn.Z.getToken())}}},wn=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,pn.Z.post(bn,e,Zn());case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),kn=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,pn.Z.delete("".concat(bn,"/").concat(e),Zn());case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),yn={create:wn,remove:kn},Pn=t(8169),Cn="".concat((0,hn.getBaseUrl)(),"/whisky"),Fn=function(){return{headers:{Authorization:"bearer ".concat(vn.Z.getToken())}}},zn=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,pn.Z.post(Cn,e,Fn());case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Sn=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,pn.Z.delete("".concat(Cn,"/").concat(e),Fn());case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Ln={getAll:function(){return pn.Z.get(Cn).then((function(n){return n.data}))},create:zn,remove:Sn},An=t(5166),En="".concat((0,hn.getBaseUrl)(),"/csv"),Bn=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(e){var t,i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("csvfile",e),!e){n.next=8;break}return(t=new FormData).append("csvfile",e),n.next=6,pn.Z.post(En,t,{headers:{Authorization:"bearer ".concat(vn.Z.getToken())}});case 6:return i=n.sent,n.abrupt("return",i.data);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Hn={upload:Bn},Vn=d.ZP.div(A||(A=(0,s.Z)(["\n  width: 100%;\n  text-align: center;\n"]))),Un=d.ZP.div(E||(E=(0,s.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  padding-top: 80px;\n  padding-bottom: 30px;\n  color: gold;\n  font-weight: bold;\n"]))),Nn=d.ZP.h1(B||(B=(0,s.Z)(["\n  font-size: 2rem;\n  margin-top: 20px;\n  margin-bottom: 10px;\n  color: gold;\n  text-shadow: 1px 1px 0px rgba(0, 0, 0, 1);\n"]))),Dn=d.ZP.p(H||(H=(0,s.Z)(["\n  font-size: 1.2rem;\n  text-align: center;\n\n  @media screen and (max-width: 500px) {\n    padding: 15px 15px;\n    font-size: 1.5rem;\n  }\n"]))),On=d.ZP.h3(V||(V=(0,s.Z)(["\n  font-size: 3rem;\n  margin-top: 40px;\n  margin-bottom: 10px;\n"]))),Tn=d.ZP.div(U||(U=(0,s.Z)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n  grid-gap: 1rem;\n  padding: 10px;\n  // margin: 20px;\n  // border-radius: 5px;\n  background: #06260F;\n  width: 100%;\n  text-align: center;\n\n  @media screen and (max-width: 500px) {\n    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n    padding: 5px 5px;\n  }\n"]))),In=d.ZP.div(N||(N=(0,s.Z)(["\n  border: 1px solid #32231F;\n  background: #A69666; \n  color: #32231F;\n  padding: 10px;\n  width: 100%;\n  border-radius: 5px;\n  \n\n  @media screen and (max-width: 500px) {\n    padding: 5px 5px;\n  }\n"]))),Rn=d.ZP.button(D||(D=(0,s.Z)(["\n  padding: 10px;\n  margin: 5px;\n  width: 100%;\n  max-width: 300px;\n  border-radius: 5px;\n  font-size: 1rem;\n  background: ",";\n  color: ",";\n  font-weight: bold;\n  cursor: pointer;\n\n  &:hover {\n    transition: all 0.2s ease-in-out;\n    transform: scale(1.01);\n    box-shadow: 0 1px 3px rgba(255, 203, 5, 0.9);\n  }\n\n  @media screen and (max-width: 500px) {\n    font-size: 1.5rem;\n    height: 60px;\n  }\n"])),(function(n){return"light"===n.background?"#06260F":"#A69666"}),(function(n){return"light"===n.background?"gold":"#06260F"})),Wn=d.ZP.div(O||(O=(0,s.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 20px;\n  font-weight: bold;\n  color: #32231F;\n  background: #A69666;\n  border-radius: 5px;\n"]))),_n=d.ZP.button(T||(T=(0,s.Z)(["\n  padding: 10px;\n  margin: 5px;\n  width: 100%;\n  max-width: 300px;\n  border-radius: 5px;\n  font-size: 1rem;\n  background: #84172C;\n  color: gold; //#EFBC69;\n  font-weight: bold;\n  cursor: pointer;\n\n  &:hover {\n    transition: all 0.2s ease-in-out;\n    transform: scale(1.01);\n    box-shadow: 0 1px 3px rgba(255, 203, 5, 0.9);\n  }\n\n  @media screen and (max-width: 500px) {\n    font-size: 1.5rem;\n    height: 60px;\n  }\n"]))),Kn={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh"},Mn=function(n){var e=n.openingHour,t=n.removeOpeningHour;return(0,l.jsxs)("div",{children:[(0,l.jsx)(Dn,{children:(0,l.jsx)("b",{children:e.day})}),(0,l.jsx)(Dn,{children:e.openinghours}),(0,l.jsx)(_n,{background:"light",onClick:function(){return t(e.id)},children:"Poista"})]},e.id)},Jn=function(n){var e=n.product,t=n.remove,i=(0,c.useState)(!1),r=(0,a.Z)(i,2),o=r[0],s=r[1];return o?(0,l.jsxs)("div",{style:{marginBottom:"25px"},children:[(0,l.jsx)(qn,{product:e,remove:t,setShowAll:s}),(0,l.jsx)(_n,{background:"light",onClick:function(){return t(e.id,e)},children:"Poista"}),(0,l.jsx)(Rn,{background:"light",onClick:function(){return s(!1)},children:"Piilota"})]}):(0,l.jsxs)("div",{style:{marginBottom:"25px"},children:[(0,l.jsx)(Dn,{children:(0,l.jsx)("b",{children:e.name})}),(0,l.jsxs)("div",{children:[(0,l.jsx)(_n,{background:"light",onClick:function(){return t(e.id,e)},children:"Poista"}),(0,l.jsx)(Rn,{background:"light",onClick:function(){return s(!0)},children:"N\xe4yt\xe4 kaikki"})]})]},e.id)},qn=function(n){var e=n.product;n.remove;return(0,l.jsxs)("div",{style:{marginBottom:"25px"},children:[(0,l.jsx)(Dn,{children:(0,l.jsx)("b",{children:e.name})}),(0,l.jsx)(Dn,{children:(0,l.jsx)("b",{children:e.price})}),(0,l.jsx)(Dn,{children:(0,l.jsx)("b",{children:null===e||void 0===e?void 0:e.area})}),(0,l.jsx)(Dn,{children:(0,l.jsx)("b",{children:null===e||void 0===e?void 0:e.style})}),(0,l.jsx)(Dn,{children:(0,l.jsx)("b",{children:null===e||void 0===e?void 0:e.country})})]},e.id)},Gn=function(){var n=(0,c.useState)(null),e=(0,a.Z)(n,2),t=e[0],i=e[1],s=(0,c.useState)(null),d=(0,a.Z)(s,2),u=d[0],x=d[1],p=(0,c.useState)([]),h=(0,a.Z)(p,2),f=h[0],g=h[1],m=(0,c.useState)([]),v=(0,a.Z)(m,2),j=v[0],b=v[1],Z=(0,c.useState)([]),w=(0,a.Z)(Z,2),k=w[0],y=w[1],P=(0,c.useState)(null),C=(0,a.Z)(P,2),F=C[0],z=C[1],S=(0,c.useRef)(),L=(0,c.useRef)(),A=(0,c.useRef)(),E=(0,c.useRef)();(0,c.useEffect)((function(){var n=vn.Z.getUser();n&&i(n)}),[]);var B=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(e,t){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:mn.login({username:e,password:t}).then((function(n){i(n),vn.Z.setUser(n),N("Login succesful! Welcome ".concat(n.name,"!"))})).catch((function(){N("Wrong credentials","alert")}));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();(0,c.useEffect)((function(){jn.Z.getAll().then((function(n){g(n)})).catch((function(n){console.log(n)}))}),[]),(0,c.useEffect)((function(){Pn.Z.getAll().then((function(n){b(n)})).catch((function(n){console.log(n)}))}),[]),(0,c.useEffect)((function(){An.Z.getAll().then((function(n){y(n)})).catch((function(n){console.log(n)}))}),[]);var H=function(n,e){if(window.confirm("Poistetaanko ".concat(e.name," ?"))){var t=f.find((function(n){return n.products.find((function(n){return n.category===e.category}))})),i=t.products.filter((function(e){return e.id!==n})),r={name:t.name,products:i,id:t.id};yn.remove(n).then((function(){g(f.map((function(n){return n.id===r.id?r:n}))),N("".concat(e.name," poistettu!"))})).catch((function(n){N("".concat(n.response.data.error),"alert"),console.log("Exception: ",n)}))}},V=function(n,e){if(window.confirm("Poistetaanko ".concat(e.name," ?"))){var t=j.find((function(n){return n.whiskies.find((function(n){return n.area===e.area}))})),i=t.whiskies.filter((function(e){return e.id!==n})),r={name:t.name,whiskies:i,id:t.id};Ln.remove(n).then((function(){b(j.map((function(n){return n.id===r.id?r:n}))),N("".concat(e.name," poistettu!"))})).catch((function(n){N("".concat(n.response.data.error),"alert"),console.log("Exception: ",n)}))}},U=function(n){var e=k.find((function(e){return e.id===n}));window.confirm("Poistetaanko ".concat(e.day," ").concat(e.openinghours,"?"))&&An.Z.remove(n).then((function(){y(k.filter((function(e){return e.id!==n}))),N("".concat(e.day," ").concat(e.openinghours," poistettiin onnistuneesti!"))})).catch((function(n){N("Tapahtui virhe","alert")}))},N=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";x({message:n,type:e}),setTimeout((function(){x(null)}),5e3)},D=f.map((function(n){return n.products.sort((function(n,e){return n.name.localeCompare(e.name)})),n})),O=j.map((function(n){return n.whiskies.sort((function(n,e){return n.name.localeCompare(e.name)})),n}));return null===t?(0,l.jsx)("div",{style:Kn,children:(0,l.jsxs)("div",{children:[(0,l.jsx)(W,{notification:u}),(0,l.jsx)(Y,{onLogin:B})]})}):(0,l.jsxs)(Vn,{children:[(0,l.jsxs)(Un,{children:[(0,l.jsx)(W,{notification:u}),(0,l.jsxs)(Dn,{children:[t.name," logged in"]}),(0,l.jsx)(Rn,{background:"dark",onClick:function(){i(null),vn.Z.clearUser()},children:"Logout"})]}),(0,l.jsx)("div",{className:"csv-file-upload",children:(0,l.jsxs)(Wn,{children:[(0,l.jsx)(Nn,{children:"Lataa Excelin csv-tiedosto"}),(0,l.jsx)("input",{type:"file",accept:".csv",lang:"fin",onChange:function(n){z(n.target.files[0])}}),(0,l.jsx)(Rn,{background:"light",onClick:function(){return function(n){null!==n?(0,hn.checkIfFileIsCsv)(n)?Hn.upload(n).then((function(n){console.log("old whiskies: ",j),b(j.map((function(e){return e.name===n[0].area&&(e.whiskies=e.whiskies.concat(n)),e}))),N("Ladattu ".concat(n.length," tuotetta! P\xe4ivit\xe4 selain heten kuluttua!")),z((function(){return null}))})).catch((function(n){N("".concat(n),"alert"),console.log("Exception: ",n)})):N("V\xe4\xe4r\xe4 tiedostomuoto!","alert"):N("Valitse tiedosto","alert")}(F)},children:"Upload"})]})}),(0,l.jsxs)(Tn,{children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)(Wn,{children:[(0,l.jsx)(Nn,{children:"Aukioloajat"}),(0,l.jsx)(I,{buttonLabel:"Uusi aika",ref:A,children:(0,l.jsx)(dn,{createNewHours:function(n){An.Z.create(n).then((function(n){y(k.concat(n)),N("Lis\xe4tty ".concat(n.day," ").concat(n.openinghours)),A.current.toggleVisibility()})).catch((function(n){N("".concat(n.response.data.error),"alert"),console.log("Exception: ",n)}))}})}),(0,l.jsx)(I,{buttonLabel:"P\xe4ivit\xe4 aika",ref:E,children:(0,l.jsx)(un,{updateOpeningHours:function(n,e){An.Z.update(n,e).then((function(e){y(k.map((function(t){return t.id!==n?t:e}))),N("Muokattiin ".concat(e.day," ").concat(e.openinghours))})).catch((function(n){N("".concat(n.response.data.error),"alert"),console.log("Exception: ",n)}))}})})]}),(0,l.jsx)(In,{children:k.map((function(n){return(0,l.jsx)(Mn,{openingHour:n,removeOpeningHour:U},n.id)}))})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)(Wn,{children:[(0,l.jsx)("div",{style:{justifyContent:"center"},children:(0,l.jsx)(Nn,{children:"Hanatuotteet"})}),(0,l.jsx)(I,{buttonLabel:"Uusi olut",ref:S,children:(0,l.jsx)(ln,{createNewBeer:function(n){yn.create(n).then((function(e){g(f.map((function(t){return t.name===n.category&&t.products.push(e),t}))),N("Lis\xe4tty ".concat(e.name)),S.current.toggleVisibility()})).catch((function(n){N(n.response.data.error,"alert"),console.log("Exception: ",n)}))}})})]}),(0,l.jsx)(In,{children:D.map((function(n){return(0,l.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,l.jsx)(On,{children:n.name}),n.products.map((function(n){return(0,l.jsx)(Jn,{product:n,remove:H},n.id)}))]},n.id)}))})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)(Wn,{children:[(0,l.jsx)(Nn,{children:"Viskilista"}),(0,l.jsx)(I,{buttonLabel:"Uusi viski",ref:L,children:(0,l.jsx)(xn,{createNewWhisky:function(n){Ln.create(n).then((function(e){b(j.map((function(t){return t.name===n.area&&t.whiskies.push(e),t}))),N("Lis\xe4tty ".concat(e.name,"!")),L.current.toggleVisibility()})).catch((function(n){N("Tapahtui virhe","alert"),console.log("Exception: ",n)}))}})})]}),(0,l.jsx)(In,{children:O.map((function(n){return(0,l.jsxs)("div",{children:[(0,l.jsx)(On,{children:n.name}),n.whiskies.map((function(n){return(0,l.jsx)(Jn,{product:n,remove:V},n.id)}))]},n.name)}))})]})]})]})}}}]);
//# sourceMappingURL=647.0cc8e98d.chunk.js.map